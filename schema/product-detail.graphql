# Product Detail Query Schema
# Minimal implementation for Product Detail Pages

# Product attribute for specifications and features
type Citisignal_ProductAttribute {
  key: String!
  label: String!
  value: String!
  type: String
}

type Citisignal_ProductDetail {
  # Core product information
  id: String!
  sku: String!
  name: String!
  urlKey: String!
  price: String! # Display string: "$1,199.99"
  priceValue: Float! # Raw number: 1199.99
  originalPrice: String # Display string: "$1,399.99"
  originalPriceValue: Float # Raw number: 1399.99
  discountPercent: Int
  inStock: Boolean!
  stockLevel: Int
  manufacturer: String

  # Enhanced product details
  description: String
  shortDescription: String

  # Semantic image fields (abstracted from Adobe Commerce roles)
  image: Citisignal_ProductImage # Main product image (base role)
  thumbnail: Citisignal_ProductImage # Cart-optimized image (thumbnail role)
  gallery: [Citisignal_ProductImage] # Additional images for galleries
  # Product images (legacy support)
  images: [Citisignal_ProductImage!]!

  # Product attributes and specifications
  attributes: [Citisignal_ProductAttribute!]!

  # Breadcrumbs for navigation
  breadcrumbs: Citisignal_ProductBreadcrumbs

  # Simple configurable options for variant selection
  configurable_options: [Citisignal_ConfigurableOption!]!

  # Empty variants array for now (can be enhanced later)
  variants: [Citisignal_ProductVariant!]!
}

# Configurable option (like colors, sizes)
type Citisignal_ConfigurableOption {
  label: String!
  attribute_code: String!
  values: [Citisignal_ConfigurableOptionValue!]!
}

# Configurable option value
type Citisignal_ConfigurableOptionValue {
  label: String!
  value: String!
  swatch_data: Citisignal_SwatchData
}

# Swatch data for color options
type Citisignal_SwatchData {
  type: String!
  value: String!
}

# Product variant (simplified for now)
type Citisignal_ProductVariant {
  id: String!
  sku: String!
  attributes: JSON
  price: String! # Display string: "$1,199.99"
  priceValue: Float! # Raw number: 1199.99
  originalPrice: String # Display string: "$1,399.99"
  originalPriceValue: Float # Raw number: 1399.99
  inStock: Boolean!
  image: Citisignal_ProductImage
}

# Breadcrumb types
type Citisignal_ProductBreadcrumbs {
  items: [Citisignal_BreadcrumbItem!]!
}

type Citisignal_BreadcrumbItem {
  name: String!
  urlPath: String!
}

# Product detail query
extend type Query {
  Citisignal_productDetail(urlKey: String!): Citisignal_ProductDetail
}
